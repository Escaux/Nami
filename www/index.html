<!DOCTYPE HTML>
<html>
<head>
<script src="http://192.168.0.10:1028/socket.io/socket.io.js"></script>
<script type="text/javascript">

function Action(name, arguments) {
	this.name = name;
	if (typeof(arguments) !== 'undefined') {
		this.arguments = arguments;
	}
}

function EventDispatcher(socket) {
	var self = this;
    socket.on('connect', function () {
    	socket.send('asd');
        socket.on('event', function (msg) { self.onEvent(msg); });
        socket.on('response', function (msg) { self.onResponse(msg); });
    });
}

EventDispatcher.prototype.onEvent = function (event) {
    console.log("Event: ");
    console.log(event);
}
EventDispatcher.prototype.onResponse = function (response) {
    console.log("Response: ");
    console.log(event);

}

function WebSocketTest() {
	var dispatcher = new EventDispatcher(io.connect('http://192.168.0.10:1028/'));
}
</script>
</head>
<body>
<div id="sse">
   <a href="javascript:WebSocketTest()">Run WebSocket</a>
</div>
<div id="messages">
</div>
</body>
</html>
